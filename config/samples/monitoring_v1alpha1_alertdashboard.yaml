apiVersion: monitoring.krutsko.com/v1alpha1
kind: AlertDashboard
metadata:
  name: app-alerts
spec:
  ruleSelector:
    matchLabels:
      generate-dashboard: "true"
  dashboardConfig:
    title: "Application Alerts"
    folder: "Monitoring"
    configMapNamePrefix: "grafana-dashboard"
    panels:
      alertsOverview: true
      timeSeriesGraphs: true
      alertHistory: true
    variables:
      - name: namespace
        type: query
        query: "label_values(namespace)"
      - name: severity
        type: custom
        values:
          - critical
          - warning
          - info